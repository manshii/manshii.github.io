<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>manshii's profile</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Open+Sans:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Zhi+Mang+Xing&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
      }

      :root {
        --primaryHeaderColor: rgb(255, 0, 0);
      }

      #navbar {
        display: flex;
        flex-direction: coloum;
        flex-wrap: wrap;
        justify-content: flex-end;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 5;
        background-color: #151515;
      }

      #navbar > ul {
        display: flex;
        flex-direction: row;
        list-style: none;
        margin: 1rem 0;
      }

      .navbar-link {
        color: #bdbdbd;
        font-size: 2rem;
        font-weight: bold;
        padding: 0 10px;
        padding-top: 4px;
        margin: 0 3rem;
        text-decoration: none;
      }
      .navbar-link:hover {
        border-top: 3px solid;
        border-image: linear-gradient(45deg, #f7819f, #81bef7) 20 20;
      }

      #welcome-section {
        display: flex;
        flex-direction: column;
        height: 100vh;
      }

      #welcome-section > h1 {
        position: absolute;
        top: 40%;
        left: 45%;
        right: 35%;
        bottom: 60%;
        z-index: 1;
        font-size: 3rem;
        user-select: none;
      }
      #welcome-section > h2 {
        position: absolute;
        top: 50%;
        left: 43%;
        right: 35%;
        bottom: 60%;
        z-index: 1;
        font-size: 1rem;
        user-select: none;
      }

      #svgFilter {
        width: 90vw;
        height: auto;
        margin-top: 15%; /* */
      }

      #mainstage {
        width: 90vw;
        height: 100vh;
        overflow: hidden;
        margin-top: 15%; /* */
        padding: 0px;
        background-color: white;
        /* filter: blur(5px) url(#svgFilter); */
        transform: scale(1.1);
      }

      .line {
        width: 100%;
        height: 0.5vh;
        background-color: #00dbde;
        background-image: linear-gradient(45deg, #00dbde 0%, #fc00ff 100%);
      }
      #line_2,
      #line_3 {
        background-color: #ffffff;
        background-image: linear-gradient(
          45deg,
          #ff0000 0%,
          #6284ff 50%,
          #ffffff 100%
        );
        position: relative;
        z-index: 4;
      }

      #profile-content {
        display: flex;
        flex-direction: column;
        justify-content: center;
        text-align: center;

        position: relative;
        z-index: 3;
        width: 100vw;
        background-color: #00dbde;
        background-image: linear-gradient(45deg, #00dbde 0%, #fc00ff 100%);
      }

      #profile-content > h2 {
        font-size: 3rem;
        margin-top: 6rem;

        user-select: none;
      }
      .skills {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;

        margin: 1rem;
        padding: 1rem;
      }
      .logo {
        display: flex;
        flex-direction: column;
        justify-content: center;

        flex-wrap: wrap;
        margin: 2rem;
        font-size: 2rem;
      }
      .logo > i {
        font-size: 4rem;
      }
      .logo > p {
        user-select: none;
      }

      #projects {
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        text-align: center;
        width: 100vw;
        margin: 4rem 0;
      }
      #projects > div {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
      }
      #projects > h2 {
        font-size: 3rem;
        margin: 6rem 0;
        user-select: none;
      }

      .project-img {
        height: 20rem;
        width: 30rem;
      }
      .project-link > a {
        background-color: white;
        color: black;
        font-size: 2rem;
        padding: 10px;
        margin: 2rem 4rem;
        border: 1px solid #151515;
        border-radius: 50%;
      }
      .project-link > a:hover {
        background: #151515;
        color: #ff0000;
      }
      .project-link > a > i:hover {
        transform: translateY(4px);
      }

      footer {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background-color: #151515;
        width: 100vw;
      }

      footer > nav > ul {
        display: flex;
        flex-direction: row;
        list-style: none;
      }
      .footer-link {
        display: flex;
        text-decoration: none;
      }
      .footer-link > i {
        color: #bdbdbd;
        font-size: 1rem;
        margin: 1rem 0rem;
        padding: 0 1rem;
      }

      .footer-link > i:hover {
        color: #642efe;
      }

      .slide {
        position: relative;
        display: inline-block;
        overflow: hidden;
        margin: 2rem;
      }
      .slide img {
        display: inline-block;
        vertical-align: middle;
      }
      .slide-content {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 20px;
        box-sizing: border-box;
        -webkit-box-sizing: border-box;
        background-color: rgba(21, 21, 21, 0.5);
        color: #fff;
        font-size: 2rem;
        transition: transform 0.3s ease;
        -webkit-transition: transform 0.3s ease;
      }
      .slide:hover .slide-content {
        transform: translate(0, 0);
        -webkit-transform: translate(0, 0);
      }

      .slide-top .slide-content {
        transform: translate(0, -100%);
        -webkit-transform: translate(0, -100%);
      }

      .navbar-link:hover,
      .logo > i:hover {
        color: #642efe;
      }

      @media screen and (max-width: 768px) {
        #welcome-section > h1 {
          left: 46%;
          right: 40%;
          font-size: 18px;
        }

        .navbar-link {
          font-size: 1rem;
        }
        .logo {
          margin: 1rem;
          font-size: 1rem;
        }
        .logo > i {
          font-size: 3rem;
        }
        .line {
          height: 4px;
        }
        #profile-content > h2 {
          font-size: 2rem;
        }
        #projects > h2 {
          font-size: 2rem;
          margin: 3rem 0;
        }
        .project-img {
          height: 8rem;
          width: 12rem;
        }
        .project-link > a {
          background-color: white;
          color: black;
          font-size: 1rem;
          padding: 10px;
          margin: 2rem 1rem;
          border: 1px solid #151515;
          border-radius: 50%;
        }
        .slide-content {
          font-size: 1rem;
        }
      }
    </style>
    <script>
      //check if script is loaded.
      console.log("initialized");

      window.addEventListener("resize", function () {
        var canvas = document.getElementById("mainstage");
        canvas.width = document.getElementById("mainstage").clientWidth;
        canvas.height = document.getElementById("mainstage").clientHeight;
      });

      //create the starfield when the whole DOM is loaded and we are sure the elements are in place.
      document.addEventListener("DOMContentLoaded", function () {
        createStarField();
      });

      function createStarField() {
        //set watcher on the title and check if mouse is moveing on the header title (which is on the canvas and needs to have its own watcher)
        //set watcher on the mainstage canvas and check if mouse is moving. Also check when the mouse moves off the canvas to stop the sequence.
        document.getElementById("mainstage").onmouseover = function (e) {
          mouseEngaged = true;
          document.getElementById("mainstage").onmousedown = function () {
            mousePressed = true;
          };
          document.getElementById("mainstage").onmouseup = function () {
            mousePressed = false;
          };
          document.getElementById("mainstage").onmousemove = function (e) {
            mouseX = e.clientX;
            mouseY = e.clientY - document.body.scrollTop; //to account for the offset in height.
          };
        };
        //set watcher for mainstage canvas for when the mouse laves the area.
        document.getElementById("mainstage").onmouseout = function () {
          mouseEngaged = false;
        };
        //create variables and set the canvas stage.
        var starArray = [];
        var mouseEngaged = false;
        var mousePressed = false;
        var speedAmplifier = 5;
        var mouseX;
        var mouseY;
        var canvas = document.getElementById("mainstage");
        var context = canvas.getContext("2d");
        //calculate the distances of the canvas and the width we use to determine number of stars.
        calcWidth = document.getElementById("mainstage").clientWidth / 10;
        canvas.width = document.getElementById("mainstage").clientWidth;
        canvas.height = document.getElementById("mainstage").clientHeight;
        //create the stars
        initiateStars(canvas, starArray, calcWidth);
        //start the main loop to keep the canvas updates.
        main();
        var then = Date.now();

        //main look to update positions and render again.
        function main() {
          var now = Date.now();
          var delta = now - then;
          update();
          render();
          then = now;
          requestAnimationFrame(main);
        }

        //update function to keep track of all the stars.
        function update() {
          if (mousePressed === true) {
            if (speedAmplifier < 50) {
              speedAmplifier = speedAmplifier + 0.1;
            }
          } else {
            if (speedAmplifier > 1.1) {
              speedAmplifier = speedAmplifier - 0.1;
            }
          }
          for (k = 0; k < starArray.length; k++) {
            if (mousePressed === true) {
              if (
                //check the distance between the mouse and the star
                mouseX >= starArray[k].x - 500 &&
                mouseX <= starArray[k].x + 500 &&
                mouseY >= starArray[k].y - 500 &&
                mouseY <= starArray[k].y + 500
              ) {
                starArray[k].angle =
                  (Math.atan2(
                    mouseY - starArray[k].y,
                    mouseX - starArray[k].x
                  ) *
                    180) /
                    Math.PI -
                  90;
              }
            } else {
              if (
                //if the stars are close to the edge, change their direction.
                starArray[k].y < -1 ||
                starArray[k].y > canvas.height + 1 ||
                starArray[k].x < -1 ||
                starArray[k].x > canvas.width + 1
              ) {
                var remainder = starArray[k].angle % 90;
                starArray[k].angle = starArray[k].angle + 90 + remainder;
                starArray[k].startAngle = starArray[k].angle;
              } else {
                starArray[k].angle = starArray[k].startAngle;
              }
              //else, calculate their forwards trajectory with the current angle.
            }
            calculateStarMovement(starArray[k]);
          }
        }

        //render function to draw the canvas when frame is updated.
        function render() {
          var distance = 150;
          //clear the canvas.
          context.clearRect(0, 0, canvas.width, canvas.height);
          if (mouseEngaged === true) {
            drawMousePosition(mouseX, mouseY, context);
            for (n = 0; n < starArray.length; n++) {
              if (
                //check the distance between the mouse and the star
                mouseX >= starArray[n].x - distance &&
                mouseX <= starArray[n].x + distance &&
                mouseY >= starArray[n].y - distance &&
                mouseY <= starArray[n].y + distance
              ) {
                //if they are within the range set, calculate their distance and draw line with color and opacity matching distance and color difference between them.
                var a = mouseX - starArray[n].x;
                var b = mouseY - starArray[n].y;
                //calculate the opacity based on distance.
                var opacity = 1 - (1 / distance) * Math.sqrt(a * a + b * b);
                var red = Math.round((255 + starArray[n].color.red) / 2);
                var green = Math.round((255 + starArray[n].color.green) / 2);
                var blue = Math.round((255 + starArray[n].color.blue) / 2);
                // set color of the line based on the middle value of red, green and blue from the two points.
                context.strokeStyle =
                  "rgba(" +
                  red +
                  "," +
                  green +
                  "," +
                  blue +
                  "," +
                  opacity +
                  ")";
                context.beginPath();
                context.moveTo(mouseX, mouseY);
                context.lineTo(starArray[n].x, starArray[n].y);
                context.stroke();
                context.rect(20, 20, 50, 50);
              }
            }
          }
          //Run through the stars
          for (i = 0; i < starArray.length; i++) {
            //draw the stars individual points
            drawSingleStar(starArray[i], context);
          }
          //double for loop to check each star against all the others.
          for (k = 0; k < starArray.length; k++) {
            for (u = 0; u < starArray.length; u++) {
              if (
                //check the distance between the two points
                starArray[k].x >= starArray[u].x - distance &&
                starArray[k].x <= starArray[u].x + distance &&
                starArray[k].y >= starArray[u].y - distance &&
                starArray[k].y <= starArray[u].y + distance &&
                // and make sure it's not the same star
                u != k
              ) {
                //if they are within the range set, calculate their distance and draw line with color and opacity matching distance and color difference between them.
                var a = starArray[k].x - starArray[u].x;
                var b = starArray[k].y - starArray[u].y;
                //calculate the opacity based on distance.
                var opacity = 1 - (1 / distance) * Math.sqrt(a * a + b * b);
                var red = Math.round(
                  (starArray[k].color.red + starArray[u].color.red) / 2
                );
                var green = Math.round(
                  (starArray[k].color.green + starArray[u].color.green) / 2
                );
                var blue = Math.round(
                  (starArray[k].color.blue + starArray[u].color.blue) / 2
                );
                // set color of the line based on the middle value of red, green and blue from the two points.
                context.strokeStyle =
                  "rgba(" +
                  red +
                  "," +
                  green +
                  "," +
                  blue +
                  "," +
                  opacity +
                  ")";
                context.beginPath();
                context.lineWidth = 3;
                context.moveTo(starArray[k].x, starArray[k].y);
                context.lineTo(starArray[u].x, starArray[u].y);
                context.stroke();
              }
            }
          }
        }

        //calculate the movement forward based on angle and speed.
        function calculateStarMovement(target) {
          //if mouse is pressed.
          if (mousePressed === true) {
            if (
              mouseX >= target.x - 500 &&
              mouseX <= target.x + 500 &&
              mouseY >= target.y - 500 &&
              mouseY <= target.y + 500
            ) {
              target.x -=
                target.speed *
                speedAmplifier *
                Math.sin(target.angle * (Math.PI / 180));
              target.y +=
                target.speed *
                speedAmplifier *
                Math.cos(target.angle * (Math.PI / 180));
            } else {
              target.x -=
                target.speed * Math.sin(target.angle * (Math.PI / 180));
              target.y +=
                target.speed * Math.cos(target.angle * (Math.PI / 180));
            }
            //if the mouse is not pressed
          } else {
            if (
              mouseX >= target.x - 500 &&
              mouseX <= target.x + 500 &&
              mouseY >= target.y - 500 &&
              mouseY <= target.y + 500
            ) {
              target.x -=
                target.speed *
                speedAmplifier *
                Math.sin(target.angle * (Math.PI / 180));
              target.y +=
                target.speed *
                speedAmplifier *
                Math.cos(target.angle * (Math.PI / 180));
            } else {
              target.x -=
                target.speed * Math.sin(target.angle * (Math.PI / 180));
              target.y +=
                target.speed * Math.cos(target.angle * (Math.PI / 180));
            }
          }
        }

        //draw the mouse position as a star on the canvas.
        function drawMousePosition(mouseX, mouseY, context) {
          context.fillStyle =
            "rgba(" + 255 + "," + 255 + "," + 255 + "," + 0.2 + ")";
          context.beginPath();
          context.arc(mouseX, mouseY, 5, 0, 2 * Math.PI);
          context.closePath();
          context.fill();
        }

        //draw a single star.
        function drawSingleStar(star, context) {
          context.fillStyle =
            "rgba(" +
            star.color.red +
            "," +
            star.color.green +
            "," +
            star.color.blue +
            "," +
            0.2 +
            ")";
          context.beginPath();
          context.arc(star.x, star.y, 5, 0, 2 * Math.PI);
          context.closePath();
          context.fill();
        }

        function initiateStars(canvas, starArray, calcWidth) {
          //set color profiles for the stars.
          //var starColors = [{ red: 255, green: 255, blue: 255 }];
          var starColors = [];
          //try to get color from the css stylesheet and set the color profile for stars after it.
          try {
            var style = getComputedStyle(document.body).getPropertyValue(
              "--primaryHeaderColor"
            );
            style = style.replace("rgb(", "");
            style = style.replace(")", "");
            style = style.split(" ").join("");
            var colors = style.split(",");
            var starColor = {
              red: parseInt(colors[0]),
              green: parseInt(colors[1]),
              blue: parseInt(colors[2])
            };
            starColors.push(starColor);
            var secondColor = {
              red: 0,
              green: 0,
              blue: 255
            };
            starColors.push(secondColor);
          } catch (err) {
            //if that cant be found, fallback to cyan (as is done in the stylesheet)
            var starColor = {
              red: 128,
              green: 0,
              blue: 255
            };
            starColors.push(starColor);
          }
          //generate number of star objects with variables based on the calcWidth variable.
          for (y = 0; y < calcWidth; y++) {
            var starAngle = Math.floor(Math.random() * 360) + 0;
            var star = {
              x: Math.floor(Math.random() * canvas.width) + 0,
              y: Math.floor(Math.random() * canvas.height) + 0,
              color:
                starColors[Math.floor(Math.random() * starColors.length) + 0],
              angle: starAngle,
              startAngle: starAngle,
              speed: (Math.floor(Math.random() * 12) + 6) / 15
            };
            starArray.push(star);
          }
        }
      }
    </script>
  </head>
  <body>
    <nav id="navbar">
      <ul>
        <li><a class="navbar-link" href="#line_2">关于</a></li>
        <li><a class="navbar-link" href="#line_3">项目</a></li>
        <li><a class="navbar-link" href="#profile-link">更多</a></li>
      </ul>
      <div class="line"></div>
    </nav>

    <section id="welcome-section">
      <h1>你好！</h1>
      <h2>我是一名web开发人员.</h2>

      <div>
        <canvas id="mainstage"></canvas>
        <svg id="weirdFilter">
          <filter id="svgFilter">
            <feTurbulence
              id="turbulence"
              type="fractalNoise"
              baseFrequency="0.009"
              numOctaves="5"
            ></feTurbulence>
            <feDisplacementMap
              id="displacement"
              in="SourceGraphic"
              scale="200"
            ></feDisplacementMap>
          </filter>
        </svg>
      </div>
    </section>

    <div id="line_2" class="line"></div>

    <section id="profile-content">
      <h2>技能</h2>
      <div class="skills">
        <div class="logo">
          <i class="fab fa-js"></i>
          <p>JavaScript</p>
        </div>
        <div class="logo">
          <i class="fab fa-react"></i>
          <p>React</p>
        </div>
        <div class="logo">
          <i class="fab fa-html5"></i>
          <p>HTML5</p>
        </div>
        <div class="logo">
          <i class="fab fa-css3-alt"></i>
          <p>CSS3</p>
        </div>
      </div>

      <div class="skills">
        <div class="logo">
          <i class="fab fa-sass"></i>
          <p>Sass</p>
        </div>
        <div class="logo">
          <i class="fab fa-bootstrap"></i>
          <p>Bootstrap</p>
        </div>
        <div class="logo">
          <i class="fab fa-python"></i>
          <p>Python</p>
        </div>
        <div class="logo">
          <i class="fab fa-git-alt"></i>
          <p>Git</p>
        </div>
      </div>
    </section>

    <div id="line_3" class="line"></div>

    <section id="projects">
      <h2>项目案例</h2>
      <div>
        <div class="project-tile">
          <div class="slide slide-top">
            <div class="slide-content">
              感谢致敬网页
            </div>
            <img
              class="project-img"
              src="https://i2.tiimg.com/727097/f5484932ae9f497f.jpg"
              alt=""
            />
          </div>
          <div class="project-link">
            <a href="" target="_blank"> <i class="fab fa-github"></i></a>
            <a href="https://codepen.io/syan01/full/NWNoyqr" target="_blank">
              <i class="fab fa-codepen"></i
            ></a>
          </div>
        </div>

        <div class="project-tile">
          <div class="slide slide-top">
            <div class="slide-content">
              调查问卷网站
            </div>
            <img
              class="project-img"
              src="https://i2.tiimg.com/727097/10726d06dba1bc7a.jpg"
              alt=""
            />
          </div>
          <div class="project-link">
            <a href="" target="_blank"> <i class="fab fa-github"></i></a>
            <a href="https://codepen.io/syan01/full/jOqerKq" target="_blank">
              <i class="fab fa-codepen"></i
            ></a>
          </div>
        </div>
      </div>
      <div>
        <div class="project-tile">
          <div class="slide slide-top">
            <div class="slide-content">
              产品介绍网址
            </div>
            <img
              class="project-img"
              src="http://i1.fuimg.com/727097/54303e4770f91d2f.jpg"
              alt=""
            />
          </div>
          <div class="project-link">
            <a href="" target="_blank"> <i class="fab fa-github"></i></a>
            <a href="https://codepen.io/syan01/full/PoNLwJX" target="_blank">
              <i class="fab fa-codepen"></i
            ></a>
          </div>
        </div>
        <div class="project-tile">
          <div class="slide slide-top">
            <div class="slide-content">
              技术文档网站
            </div>
            <img
              class="project-img"
              src="http://i1.fuimg.com/727097/66a3f10929bf3f53.jpg"
              alt=""
            />
          </div>
          <div class="project-link">
            <a href="" target="_blank"> <i class="fab fa-github"></i></a>
            <a href="https://codepen.io/syan01/full/KKzbYEa" target="_blank">
              <i class="fab fa-codepen"></i
            ></a>
          </div>
        </div>
      </div>
    </section>

    <div class="line"></div>

    <footer>
      <nav>
        <ul>
          <li><a class="footer-link" href="" target="_blank"></a></li>
          <li>
            <a class="footer-link" href="" target="_blank">
              <i class="fab fa-qq"></i
            ></a>
          </li>
          <li>
            <a class="footer-link" href="" target="_blank"
              ><i class="fab fa-weixin"></i
            ></a>
          </li>
          <li>
            <a class="footer-link" href="" target="_blank">
              <i class="fas fa-mobile-alt"></i>
            </a>
          </li>
          <li>
            <a class="footer-link" href="" target="_blank">
              <i class="fas fa-envelope"></i>
            </a>
          </li>
          <li>
            <a class="footer-link" href="" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a class="footer-link" href="" target="_blank">
              <i class="fab fa-codepen"></i>
            </a>
          </li>
          <li>
            <a class="footer-link" id="profile-link" href="" target="_blank">
              <i class="fab fa-free-code-camp"></i>
            </a>
          </li>
        </ul>
      </nav>
    </footer>
  </body>
</html>
